{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 33, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Revythis/olympiacos-next/context/AuthContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst AuthContext = createContext();\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n  const [isLoginModalOpen, setIsLoginModalOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const checkLoginStatus = async () => {\r\n      const token = localStorage.getItem('token');\r\n      if (!token) {\r\n        console.error('No token found');\r\n        setIsLoginModalOpen(true); // Show login modal if no token is found\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const response = await axios.get('/api/check-login', {\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`\r\n          }\r\n        });\r\n        if (response.data.loggedIn) {\r\n          setCurrentUser(response.data.user); // Ensure 'user' contains username and other details\r\n        } else {\r\n          localStorage.removeItem('token');\r\n          setIsLoginModalOpen(true); // Show login modal if login check fails\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Failed to check login status:\", error);\r\n        localStorage.removeItem('token');\r\n        setIsLoginModalOpen(true); // Show login modal on error\r\n      }\r\n    };\r\n\r\n    checkLoginStatus();\r\n  }, []);\r\n\r\n  const logout = async () => {\r\n    try {\r\n      const response = await axios.post('/api/logout');\r\n      if (response.data.message === 'Logout successful') {\r\n        localStorage.removeItem('token');\r\n        setCurrentUser(null);\r\n        alert('Logged out successfully.');\r\n        setIsLoginModalOpen(true); // Show login modal after logout\r\n      } else {\r\n        alert('Error during logout.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error during logout:', error);\r\n      alert('Error during logout: ' + error.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ currentUser, setCurrentUser, logout, isLoginModalOpen, setIsLoginModalOpen }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useAuth = () => useContext(AuthContext);"],"names":[],"mappings":";;;;;AAAA;AACA;;;;;;;;AAEA,MAAM,4BAAc,CAAA,GAAA,mGAAA,CAAA,gBAAa,AAAD;AAEzB,MAAM,eAAe,CAAC,EAAE,QAAQ,EAAE;IACvC,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE;IAC/C,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE;IAEzD,CAAA,GAAA,mGAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,mBAAmB;YACvB,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,IAAI,CAAC,OAAO;gBACV,QAAQ,KAAK,CAAC;gBACd,oBAAoB,OAAO,wCAAwC;gBACnE;YACF;YAEA,IAAI;gBACF,MAAM,WAAW,MAAM,0GAAA,CAAA,UAAK,CAAC,GAAG,CAAC,oBAAoB;oBACnD,SAAS;wBACP,iBAAiB,CAAC,OAAO,EAAE,OAAO;oBACpC;gBACF;gBACA,IAAI,SAAS,IAAI,CAAC,QAAQ,EAAE;oBAC1B,eAAe,SAAS,IAAI,CAAC,IAAI,GAAG,oDAAoD;gBAC1F,OAAO;oBACL,aAAa,UAAU,CAAC;oBACxB,oBAAoB,OAAO,wCAAwC;gBACrE;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,iCAAiC;gBAC/C,aAAa,UAAU,CAAC;gBACxB,oBAAoB,OAAO,4BAA4B;YACzD;QACF;QAEA;IACF,GAAG,EAAE;IAEL,MAAM,SAAS;QACb,IAAI;YACF,MAAM,WAAW,MAAM,0GAAA,CAAA,UAAK,CAAC,IAAI,CAAC;YAClC,IAAI,SAAS,IAAI,CAAC,OAAO,KAAK,qBAAqB;gBACjD,aAAa,UAAU,CAAC;gBACxB,eAAe;gBACf,MAAM;gBACN,oBAAoB,OAAO,gCAAgC;YAC7D,OAAO;gBACL,MAAM;YACR;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,wBAAwB;YACtC,MAAM,0BAA0B,MAAM,OAAO;QAC/C;IACF;IAEA,qBACE,qKAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAa;YAAgB;YAAQ;YAAkB;QAAoB;kBACvG;;;;;;AAGP;AAEO,MAAM,UAAU,IAAM,CAAA,GAAA,mGAAA,CAAA,aAAU,AAAD,EAAE"}},
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 126, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Revythis/olympiacos-next/pages/_app.js"],"sourcesContent":["import { useEffect } from 'react';\r\nimport { AuthProvider } from '../context/AuthContext'; // Adjust the path if necessary\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport 'bootstrap/dist/js/bootstrap.bundle.min.js'; // Include Bootstrap JavaScript\r\nimport '../styles/home.css'; // Ensure your custom styles are imported after Bootstrap\r\n\r\nfunction MyApp({ Component, pageProps }) {\r\n  useEffect(() => {\r\n    // This ensures that Bootstrap's JavaScript is correctly loaded\r\n    import('bootstrap/dist/js/bootstrap.bundle.min.js');\r\n  }, []);\r\n\r\n  return (\r\n    <AuthProvider>\r\n      <Component {...pageProps} />\r\n    </AuthProvider>\r\n  );\r\n}\r\n\r\nexport default MyApp;"],"names":[],"mappings":";;;;AAAA;AACA,mMAAuD,+BAA+B;AAEtF,iWAAoD,+BAA+B;;;;;;;;;;;AAGnF,SAAS,MAAM,EAAE,SAAS,EAAE,SAAS,EAAE;IACrC,CAAA,GAAA,mGAAA,CAAA,YAAS,AAAD,EAAE;QACR,+DAA+D;;IAEjE,GAAG,EAAE;IAEL,qBACE,qKAAC,+GAAA,CAAA,eAAY;kBACX,cAAA,qKAAC;YAAW,GAAG,SAAS;;;;;;;;;;;AAG9B;uCAEe"}},
    {"offset": {"line": 163, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}